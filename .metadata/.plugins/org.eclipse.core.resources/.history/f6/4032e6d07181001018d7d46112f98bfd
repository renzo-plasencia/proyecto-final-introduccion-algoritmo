package proyecto_inmuebles;

import java.awt.BorderLayout;
import java.awt.EventQueue;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.border.EmptyBorder;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JTextArea;
import javax.swing.JComboBox;
import javax.swing.JButton;
import javax.swing.DefaultComboBoxModel;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import java.awt.Font;
import javax.swing.JScrollPane;

public class VenderTerrenos extends JFrame {

	private JPanel contentPane;
    private JTextArea txtS;
    private JComboBox cbox_terreno;
    private JComboBox cbox_distrito;
    private JComboBox cbox_ubicacion;
	/**
	 * Launch the application.
	 */
	public static void main(String[] args) {
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					VenderTerrenos frame = new VenderTerrenos();
					frame.setVisible(true);
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
	}

	/**
	 * Create the frame.
	 */
	
    //Metodos//
		
	public VenderTerrenos() {
		setTitle("Vender Terrenos");
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setBounds(100, 100, 434, 482);
		contentPane = new JPanel();
		contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
		setContentPane(contentPane);
		contentPane.setLayout(null);
		
		JLabel lbl_terreno = new JLabel("Terreno");
		lbl_terreno.setFont(new Font("Tahoma", Font.PLAIN, 14));
		lbl_terreno.setBounds(23, 42, 107, 30);
		contentPane.add(lbl_terreno);
		
		JLabel lbl_terreno_1 = new JLabel("Distrito");
		lbl_terreno_1.setFont(new Font("Tahoma", Font.PLAIN, 14));
		lbl_terreno_1.setBounds(23, 88, 107, 30);
		contentPane.add(lbl_terreno_1);
		
		JLabel lbl_terreno_2 = new JLabel("Ubicacion");
		lbl_terreno_2.setFont(new Font("Tahoma", Font.PLAIN, 14));
		lbl_terreno_2.setBounds(23, 131, 107, 30);
		contentPane.add(lbl_terreno_2);
		
		JScrollPane scrollPane = new JScrollPane();
		scrollPane.setBounds(20, 186, 379, 238);
		contentPane.add(scrollPane);
		
		cbox_terreno = new JComboBox();
		cbox_terreno.setModel(new DefaultComboBoxModel(new String[] {Tienda.modelo0, Tienda.modelo1, Tienda.modelo2}));
		cbox_terreno.setBounds(113, 47, 147, 21);
		contentPane.add(cbox_terreno);
				
		cbox_distrito = new JComboBox();
		cbox_distrito.setModel(new DefaultComboBoxModel(new String[] {"Distrito 1", "Distrito 2", "Distrito 3"}));
		cbox_distrito.setBounds(113, 93, 147, 21);
		contentPane.add(cbox_distrito);
		
		cbox_ubicacion = new JComboBox();
		cbox_ubicacion.setModel(new DefaultComboBoxModel(new String[] {"Calle", "Parque", "Esquina"}));
		cbox_ubicacion.setBounds(113, 136, 147, 21);
		contentPane.add(cbox_ubicacion);
		
		txtS = new JTextArea();
		scrollPane.setViewportView(txtS);
		
		JButton btnCerrar = new JButton("Cerrar");
		btnCerrar.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				cerrar();
			}
		});
		btnCerrar.setBounds(315, 82, 84, 25);
		contentPane.add(btnCerrar);		
		
		JButton btn_vender = new JButton("Vender");
		btn_vender.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				vender();   
			}
		});
		btn_vender.setBounds(315, 45, 84, 25);
		contentPane.add(btn_vender);
		
		JLabel lblNewLabel = new JLabel("Configurar Descuentos");
		lblNewLabel.setFont(new Font("Tahoma", Font.BOLD, 18));
		lblNewLabel.setBounds(20, 9, 309, 22);
		contentPane.add(lblNewLabel);
	}
	
	void Imprimir(String Cadena)
	{
		txtS.append(Cadena + "\n");
	}
	
	
	void cerrar() {
		int respuesta;
		respuesta = JOptionPane.showConfirmDialog(null, "¿Desea cancelar la venta?", "Cancelar",JOptionPane.OK_OPTION,JOptionPane.CANCEL_OPTION);
		
		if (respuesta == 0) {
			dispose();
		}
	}
	
	void borrar() {
		cbox_terreno.setSelectedIndex(0);
	    cbox_distrito.setSelectedIndex(0);
	    cbox_ubicacion.setSelectedIndex(0);
	    txtS.setText("");
	}
	
	void vender() {
		int terreno;
		int distrito;
		int ubicacion;
		double ancho,largo;
		double precio;
		int valorterreno=0;
		double descuento=0;
		double factor=0;
		String modelo;
		double importedescuento=0;
		double importecompra=0;
		double importeboleta=0;
		
		terreno = cbox_terreno.getSelectedIndex();
		distrito = cbox_distrito.getSelectedIndex();
		ubicacion = cbox_ubicacion.getSelectedIndex();
		modelo = (String) cbox_terreno.getSelectedItem();
		
		String obsequio = "";
		switch (terreno)
		{
			case 0: 
				ancho = Tienda.ancho0;
				largo = Tienda.largo0;
				obsequio = Tienda.obsequio3;
				break;
			
			case 1:
				ancho = Tienda.ancho1;
				largo = Tienda.largo1;
				obsequio = Tienda.obsequio2;
				break;
			
			case 2:
				ancho = Tienda.ancho2;
				largo = Tienda.largo2;
				obsequio = Tienda.obsequio1;
				break;
			default:
				ancho = 0.0;
				largo = 0.0;
				obsequio = "";
				break;
		}
		
		switch (distrito)
		{
			case 0:
				precio = Tienda.distrito0;
				descuento =  0.10;
				break;
			
			case 1:
			
				precio = 500;
				descuento = 0.07;
				break;
			
			case 2:
			
				precio = 350;
				descuento = 0.05;
				break;
			
		}
		
		switch (ubicacion)
		{
			case 0:
				factor = 1;
				break;
			
			case 1:
				factor = 1.2;
				break;
				
			case 2:
				factor = 1.4;
				break;
		
		}
		
        valorterreno = metros*precio;
		importecompra = valorterreno*factor;	
		importedescuento = importecompra*descuento;
	    importeboleta = importecompra - importedescuento;
	    
	    Imprimir("Boleta de Venta");
	    Imprimir("");
	    Imprimir("Terreno: "+ modelo);
	    Imprimir("Precio del Terreno: $" + valorterreno);
	    Imprimir("Factor por Ubicacion: " + factor);
	    Imprimir("Importe de Compra: $" + importecompra);
	    Imprimir("Importe de Descuento: $" + importedescuento);
	    Imprimir("Importe a Pagar: $" + importeboleta);
	    Imprimir("Te llevas de Regalo: "+ obsequio);
	}
}
